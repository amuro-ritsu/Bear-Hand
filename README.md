# Drawing Hand Animator（ブラウザ版）
## OBS用お絵かき手元アニメーション

<img src="https://img.shields.io/badge/version-1.0.0-blue.svg" alt="Version">
<img src="https://img.shields.io/badge/platform-OBS%20Browser-green.svg" alt="Platform">
<img src="https://img.shields.io/badge/license-MIT-orange.svg" alt="License">

お絵かき配信で手元をリアルタイムアニメーション表示するOBS用ブラウザソースです。

![プレビュー](https://via.placeholder.com/1000x600/2a2a2a/4da6ff?text=Drawing+Hand+Animator)

---

## ✨ 特徴

- 🎨 **マウス/ペンタブ連動** - カーソルの動きに合わせて手元が移動
- ✏️ **描画時アニメーション** - マウスボタン押下中はペンが左右に揺れる
- 🖼️ **画像差し替え可能** - 手とタブレットの画像を自由にカスタマイズ
- 💾 **設定保存機能** - ブラウザに設定を自動保存
- 🎯 **完全透過対応** - OBSで背景透過表示
- ⚙️ **詳細設定** - 感度、角度、速度などを細かく調整可能
- 🔒 **安定動作** - クラッシュしにくいブラウザベース
- 📱 **レスポンシブ** - 様々な画面サイズに対応

---

## 🚀 クイックスタート

### 1. ファイルの配置

`drawing_hand_animator.html` を任意のフォルダに保存します。

```
例: C:\OBS\DrawingHandAnimator\drawing_hand_animator.html
```

### 2. OBSに追加

#### OBSでブラウザソースを追加
```
1. OBS Studio を起動
2. ソース → ＋ → ブラウザ
3. 名前を入力（例: 「お絵かき手元」）
4. OK をクリック
```

#### ブラウザソースの設定
```
【必須設定】
□ ローカルファイル: チェックを入れる
□ 参照: drawing_hand_animator.html を選択

【推奨設定】
□ 幅: 1920
□ 高さ: 1080
□ シャットダウン時にブラウザを更新: チェック
□ シーンがアクティブになったとき更新: チェック
```

### 3. 画像をアップロード

```
1. ブラウザソースのプレビューで右上の「⚙️ 設定」をクリック
2. 「手+ペンの画像」をアップロード
3. 「タブレット画像」をアップロード
4. 「設定を保存」をクリック
```

### 4. 完成！

マウスを動かすと手元が追従します。
左クリックを押すとペンが揺れます。

---

## 📋 詳細な使い方

### 画像の準備

#### 手+ペンの画像
- **形式**: PNG（透過推奨）
- **推奨サイズ**: 300×400px〜500×600px
- **内容**: ペンを持った手を描く

```
┌───────────┐
│           │
│    ✋    │  ← ペンを持った手
│    /│\   │
│   / │ \  │
│  ペン │  │
│   ｜ │  │
│   ▼  │  │
│ ●ペン先 │
│      │  │
└───────────┘
```

#### タブレット画像
- **形式**: PNG（透過推奨）
- **推奨サイズ**: 400×300px〜600×400px
- **内容**: タブレットを真上から見た図

```
┌─────────────────┐
│  ┏━━━━━━━━━┓  │
│  ┃           ┃  │
│  ┃  TABLET   ┃  │
│  ┃           ┃  │
│  ┗━━━━━━━━━┛  │
└─────────────────┘
```

### 設定項目の説明

#### 📁 画像設定
- **手+ペンの画像**: メインで動く手の画像
- **タブレット画像**: 手の下に表示される背景

#### 🎮 動作設定
- **感度**: カーソル追従の速さ（0.1〜3.0）
  - 1.0 = 標準（カーソルと同じ速度）
  - 0.5 = 半分の速さ
  - 2.0 = 2倍速い
- **スムージング**: 滑らかな動きのON/OFF
- **スムージング強度**: 滑らかさの度合い（0.1〜0.9）
  - 小さい値 = ダイレクトな動き
  - 大きい値 = ヌルヌル動く

#### ✏️ ペンアニメーション
- **ペンの傾き角度**: 左右の揺れ幅（0〜45度）
  - 0度 = 揺れない
  - 15度 = 標準的な揺れ
  - 30度 = 大きく揺れる
- **ペンの揺れ速度**: 揺れる速さ（1〜30）
  - 低い値 = ゆっくり揺れる
  - 高い値 = 速く揺れる

#### 📐 位置調整
- **X/Y座標オフセット**: 表示位置の微調整
- **手/タブレット画像サイズ**: 各画像の拡大縮小
- **タブレットの縦位置オフセット**: 手とタブレットの上下関係

#### 👁️ 表示設定
- **手を表示**: 手の表示/非表示
- **タブレットを表示**: タブレットの表示/非表示
- **ステータス表示**: デバッグ情報の表示

---

## 🎨 OBSでの設定

### 背景を透過する（重要！）

#### 方法1: OBSのブラウザソース設定
```
ブラウザソースのプロパティ:
□ カスタムCSS: 以下を入力
```

```css
body { 
    background-color: rgba(0, 0, 0, 0) !important; 
    margin: 0px auto;
    overflow: hidden;
}
```

#### 方法2: シャットダウン時に更新
```
□ シャットダウン時にブラウザを更新: チェック
```
これにより、シーン切り替え時に自動リフレッシュされます。

### レイヤー順序

OBSのソース一覧での推奨順序：

```
（上）
├─ VTuberモデル
├─ お絵かき手元（このブラウザソース）
├─ お絵かきソフト（ウィンドウキャプチャ）
└─ 背景
（下）
```

### パフォーマンス最適化

```
ブラウザソースのプロパティ:
□ FPS: 60（推奨）
□ ページ読み込み時: チェック
□ ハードウェアアクセラレーション: チェック
```

---

## 🔧 トラブルシューティング

### 画像が表示されない

#### 原因1: 画像がアップロードされていない
→ 設定パネルから画像をアップロード

#### 原因2: ファイルサイズが大きすぎる
→ 画像を1MB以下に圧縮

#### 原因3: 透過設定が間違っている
→ OBSのカスタムCSSを確認

### 手が動かない

#### 原因1: マウスがブラウザソースの外にある
→ OBSプレビュー内でマウスを動かす

#### 原因2: ブラウザソースが非アクティブ
→ シーンをアクティブにする

### 動きがカクカクする

#### 解決策1: スムージングをON
```
設定 → 動作設定
□ スムージング: チェック
□ スムージング強度: 0.5程度
```

#### 解決策2: FPSを下げる
```
ブラウザソースのプロパティ:
□ FPS: 30に変更
```

### ペンが揺れない

#### 原因: ペンの傾き角度が0
```
設定 → ペンアニメーション
□ ペンの傾き角度: 15度以上に設定
```

### 設定が保存されない

#### 原因: LocalStorageが無効
→ ブラウザの設定でCookieとサイトデータを許可

---

## 💡 使用例・設定例

### パターン1: 標準設定
```
感度: 1.0
スムージング: ON（0.3）
ペンの傾き角度: 15度
ペンの揺れ速度: 10
```
**用途**: 通常のお絵かき配信

### パターン2: ハイスピード描画
```
感度: 1.5
スムージング: OFF
ペンの傾き角度: 25度
ペンの揺れ速度: 20
```
**用途**: スケッチ配信、速描き企画

### パターン3: じっくり描画
```
感度: 0.7
スムージング: ON（0.6）
ペンの傾き角度: 8度
ペンの揺れ速度: 5
```
**用途**: 細密画、丁寧な作業配信

### パターン4: ミニマル表示
```
感度: 0.5
スムージング: ON（0.5）
手の画像サイズ: 0.7x
ペンの傾き角度: 5度
```
**用途**: シンプルな配信、サブ表示

---

## 📊 技術仕様

### 対応環境
- **OS**: Windows 10/11, macOS 10.15以降
- **ブラウザ**: Chrome 90+, Edge 90+, Firefox 88+
- **OBS Studio**: v27.0以降推奨

### パフォーマンス
- **CPU使用率**: < 1%
- **メモリ使用量**: < 50MB
- **フレームレート**: 60 FPS
- **レイテンシ**: < 16ms

### 技術スタック
- HTML5
- CSS3（Flexbox, Grid, Animations）
- JavaScript（ES6+）
- LocalStorage API
- FileReader API

---

## 🎓 よくある質問（FAQ）

### Q1. 複数のシーンで使えますか？
A. はい。各シーンにブラウザソースを追加するか、同じソースを複数シーンで使い回せます。

### Q2. 画像は何度でも変更できますか？
A. はい。設定パネルからいつでも変更可能で、LocalStorageに保存されます。

### Q3. 左利き対応はありますか？
A. 画像を左右反転させた状態でアップロードしてください。OBSのトランスフォームで「水平反転」も可能です。

### Q4. ペンタブでも動作しますか？
A. はい。マウスカーソルを追跡しているため、ペンタブでも動作します。

### Q5. 配信以外（録画のみ）でも使えますか？
A. はい。配信・録画どちらでも使用可能です。

### Q6. 商用利用は可能ですか？
A. はい。MITライセンスのため商用利用可能です。

### Q7. 他の配信ソフトでも使えますか？
A. OBS Studio専用です。他のソフトでは動作保証できません。

### Q8. 画像の著作権は？
A. ご自身で作成した画像、または使用許可のある画像をご利用ください。

---

## 🎨 カスタマイズガイド

### 画像素材の作り方

#### 推奨ソフト
- CLIP STUDIO PAINT
- Photoshop
- Krita（無料）
- GIMP（無料）

#### 制作手順
1. 新規キャンバス作成（300×400px）
2. 透過背景で手とペンを描く
3. PNG形式でエクスポート
4. ブラウザアプリにアップロード

詳細は [IMAGE_GUIDE.md](IMAGE_GUIDE.md) を参照。

### HTMLのカスタマイズ

HTMLファイルを直接編集することで、さらに細かいカスタマイズが可能です：

- 色調整
- アニメーション速度
- UI配置
- 追加機能の実装

---

## 🔄 更新履歴

### v1.0.0 (2024-12-05)
- 初回リリース（ブラウザ版）
- マウス追跡機能
- ペン揺れアニメーション
- 画像アップロード機能
- LocalStorage保存機能
- 完全透過対応
- レスポンシブUI

---

## 📝 ライセンス

MIT License

このソフトウェアは自由に使用・改変・再配布が可能です。
商用利用も含め、制限なくご利用いただけます。

詳細は [LICENSE.txt](LICENSE.txt) を参照。

---

## 🙏 クレジット

- **Inspired by**: Spud Tablet (SadWhale Studios)
- **Technology**: OBS Studio, HTML5, JavaScript
- **Design**: Custom UI/UX

---

## 📞 サポート

### 不具合報告・機能要望
- GitHub Issues: [リポジトリURL]
- Twitter: @[アカウント名]
- Discord: [サーバーURL]

### ドキュメント
- クイックスタート: [QUICKSTART.md](QUICKSTART.md)
- 画像制作ガイド: [IMAGE_GUIDE.md](IMAGE_GUIDE.md)
- トラブルシューティング: [TROUBLESHOOTING.md](TROUBLESHOOTING.md)
- 設定例: [SETTINGS_EXAMPLES.md](SETTINGS_EXAMPLES.md)

---

**楽しいお絵かき配信を！🎨✨**

最終更新: 2024-12-05
